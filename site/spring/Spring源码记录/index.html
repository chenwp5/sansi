
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../database/mysql/MySQL%E4%BA%8B%E5%8A%A1/">
      
      
        <link rel="next" href="../../git/Git%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%9A%82%E5%AD%98/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Spring源码记录 - 后花园</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-YYKVVKLK19"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-YYKVVKLK19",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-YYKVVKLK19",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spring" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="后花园" class="md-header__button md-logo" aria-label="后花园" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            后花园
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Spring源码记录
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="切换到系统自适应模式"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="切换到系统自适应模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/chenwp5/sansi" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    chenwp/sansi
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../database/mysql/InnoDB%E7%89%88%E6%9C%AC%E5%8F%8A%E6%96%B0%E7%89%B9%E6%80%A7/" class="md-tabs__link">
          
  
    
  
  数据库

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Spring

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../git/Git%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%9A%82%E5%AD%98/" class="md-tabs__link">
          
  
    
  
  GIT

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mkdocs/mkdocs%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/" class="md-tabs__link">
          
  
    
  
  工具

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
    
  
  博客

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="后花园" class="md-nav__button md-logo" aria-label="后花园" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    后花园
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/chenwp5/sansi" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    chenwp/sansi
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    数据库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    MySql
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            MySql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/InnoDB%E7%89%88%E6%9C%AC%E5%8F%8A%E6%96%B0%E7%89%B9%E6%80%A7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InnoDB版本及新特性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_1_2" id="__nav_1_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    InnoDB存储引擎
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1_2">
            <span class="md-nav__icon md-icon"></span>
            InnoDB存储引擎
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/InnoDB%E7%A3%81%E7%9B%98%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InnoDB磁盘结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/InnoDB%E7%BC%93%E5%86%B2%E6%B1%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    InnoDB缓冲池
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/MySQL%E6%9F%A5%E8%AF%A2%E5%8E%9F%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQL查询原理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/MySQL%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQL执行计划
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../database/mysql/MySQL%E4%BA%8B%E5%8A%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySQL事务
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Spring
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Spring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Spring源码记录
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Spring源码记录
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#beanfactoryapplicationcontext" class="md-nav__link">
    <span class="md-ellipsis">
      一、BeanFactory和ApplicationContext
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defaultlistablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      二、DefaultListableBeanFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、DefaultListableBeanFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-beandefinitionregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 BeanDefinitionRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-configurablelistablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 ConfigurableListableBeanFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 ConfigurableListableBeanFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-beanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 BeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-singletonbeanregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 SingletonBeanRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-listablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 ListableBeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-hierarchicalbeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.4 HierarchicalBeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#225-configurablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.5 ConfigurableBeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#226-autowirecapablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.6 AutowireCapableBeanFactory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-abstractautowirecapablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 AbstractAutowireCapableBeanFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 AbstractAutowireCapableBeanFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-simplealiasregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 SimpleAliasRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-defaultsingletonbeanregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 DefaultSingletonBeanRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-factorybeanregistrysupport" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 FactoryBeanRegistrySupport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#234-abstractbeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.4 AbstractBeanFactory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 使用示例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 使用示例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-ioc" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 新建IOC容器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 新增后置工厂处理器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#243-bean" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.3 新增Bean后置处理器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    GIT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            GIT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/Git%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%9A%82%E5%AD%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git交互式暂存
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../git/Git%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git知识总结
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    工具
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            工具
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/mkdocs%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mkdocs建站
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    博客
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            博客
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    归档
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    分类
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/mybatis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MyBatis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/mysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MySql
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#beanfactoryapplicationcontext" class="md-nav__link">
    <span class="md-ellipsis">
      一、BeanFactory和ApplicationContext
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defaultlistablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      二、DefaultListableBeanFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、DefaultListableBeanFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-beandefinitionregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 BeanDefinitionRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-configurablelistablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 ConfigurableListableBeanFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 ConfigurableListableBeanFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-beanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 BeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-singletonbeanregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 SingletonBeanRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-listablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 ListableBeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-hierarchicalbeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.4 HierarchicalBeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#225-configurablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.5 ConfigurableBeanFactory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#226-autowirecapablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.6 AutowireCapableBeanFactory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-abstractautowirecapablebeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 AbstractAutowireCapableBeanFactory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 AbstractAutowireCapableBeanFactory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-simplealiasregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 SimpleAliasRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-defaultsingletonbeanregistry" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 DefaultSingletonBeanRegistry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-factorybeanregistrysupport" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 FactoryBeanRegistrySupport
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#234-abstractbeanfactory" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.4 AbstractBeanFactory
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 使用示例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 使用示例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-ioc" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 新建IOC容器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 新增后置工厂处理器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#243-bean" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.3 新增Bean后置处理器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="spring">Spring源码记录</h1>
<h2 id="beanfactoryapplicationcontext">一、BeanFactory和ApplicationContext</h2>
<p>Spring框架最核心的功能为IOC，我们一般称BeanFactory为Spring的IOC容器，而ApplicationContext是BeanFactory的子接口，他组合了BeanFactory拥有其全部功能，并且扩展了更多面向实际应用的、企业级的高级特性。例如下图中可以看出除了BeanFactory之外ApplicationContext还继承了其他接口。</p>
<p><img alt="" src="../img/applicationcontext_leitu.png" /></p>
<blockquote>
<p>思绪记录：</p>
<p>​ 控制反转(Inversion of control)即由Spring帮我们实例化需要的对象。那么我们需要给Spring提供这些对象元数据这样Spring才能在我们需要的时候为我们实例化对象——即我们通过XML或者注解配置bean，在需要使用的地方通过注解Autowired或Resource。这其中读取对象元数据到实例化对象这个过程就是由Spring IOC提供的。</p>
<p>​ 最核心的IOC容器为DefaultListableBeanFactory，他是BeanFactory接口最重要的一个实现类，提供了IOC容器最基础的功能。</p>
<p>​ Spring中使用BeanDefinition来保存对象的元数据，将通过BeanDefinition实例化生成的对象叫做Bean。而实例化Bean是DefaultListableBeanFactory完成的，ApplicationContext的实现类都包含一个DefaultListableBeanFactory的成员变量，通过调用它的方法来实现IOC容器的基础功能。</p>
</blockquote>
<h2 id="defaultlistablebeanfactory">二、DefaultListableBeanFactory</h2>
<p>接口<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/ConfigurableListableBeanFactory.html"><code>ConfigurableListableBeanFactory</code></a> 和<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/support/BeanDefinitionRegistry.html"><code>BeanDefinitionRegistry</code></a>的默认实现。基于 bean 定义元数据的成熟 bean 工厂，可通过后处理器扩展。其类图如下所示：</p>
<p><img alt="" src="../img/Spring002.png" /></p>
<blockquote>
<p>思绪记录：</p>
<p>​ 看Spring中核心程序的类图可以发现，都直接或间接的继承和实现了很多类和接口。这其实就是Spring源码做的很好的地方——接口应该具备单一职责。相比于Spring源码里面的API和设计模式，很多人都会忽略这些最基础的内容。所以说要研究一个核心类，最好先了解其实现的接口的作用。</p>
</blockquote>
<h3 id="21-beandefinitionregistry">2.1 BeanDefinitionRegistry</h3>
<p><strong><code>BeanDefinitionRegistry</code></strong>接口类定义如下，它继承了接口<strong><code>AliasRegistry</code></strong>，所以它同样具有<strong><code>AliasRegistry</code></strong>的功能。</p>
<pre><code class="language-java">public interface BeanDefinitionRegistry extends AliasRegistry {
    ......
}
</code></pre>
<p><strong><code>AliasRegistry</code></strong>接口源码如下，该接口的作用管理Bean的别名。它的实现类为<strong><code>SimpleAliasRegistry</code></strong>，Spring对Bean别名的操作都是通过<strong><code>SimpleAliasRegistry</code></strong>操作的。</p>
<pre><code class="language-java">public interface AliasRegistry {

    void registerAlias(String name, String alias);

    void removeAlias(String alias);

    boolean isAlias(String name);

    String[] getAliases(String name);

}
</code></pre>
<p><strong><code>BeanDefinitionRegistry</code></strong>接口源码如下，该接口主要作用是管理Bean的定义信息（BeanDefinition）。它的实现类就是<strong><code>DefaultListableBeanFactory</code></strong>。Spring中对<strong><code>BeanDefinition</code></strong>的操作都是通过<strong><code>DefaultListableBeanFactory</code></strong>。例如上文说过的<strong><code>ApplicationContext</code></strong>各种实现类。</p>
<pre><code class="language-java">public interface BeanDefinitionRegistry extends AliasRegistry {

    //将bean定义信息注册到IOC容器
    void registerBeanDefinition(String beanName, BeanDefinition beanDefinition)
            throws BeanDefinitionStoreException;

    //删除bean的定义信息
    void removeBeanDefinition(String beanName) throws NoSuchBeanDefinitionException;

    //获取bean的定义信息
    BeanDefinition getBeanDefinition(String beanName) throws NoSuchBeanDefinitionException;

    boolean containsBeanDefinition(String beanName);

    String[] getBeanDefinitionNames();

    int getBeanDefinitionCount();

    default boolean isBeanDefinitionOverridable(String beanName) {
        return true;
    }

    boolean isBeanNameInUse(String beanName);

}
</code></pre>
<p>看过这两个接口的源码之后，就清楚了<strong><code>BeanDefinitionRegistry</code></strong>接口的作用：管理Bean的别名和定义信息。</p>
<h3 id="22-configurablelistablebeanfactory">2.2 ConfigurableListableBeanFactory</h3>
<p>查看上文类图，发现其继承的接口很多，其父接口说明如下。</p>
<h4 id="221-beanfactory">2.2.1 BeanFactory</h4>
<p><strong><code>BeanFactory</code></strong>是访问Spring容器最核心的接口。他最主要的作用为获取容器中的Bean。</p>
<pre><code class="language-java">public interface BeanFactory {

    String FACTORY_BEAN_PREFIX = &quot;&amp;&quot;;
    Object getBean(String name) throws BeansException;
    &lt;T&gt; T getBean(String name, Class&lt;T&gt; requiredType) throws BeansException;
    Object getBean(String name, Object... args) throws BeansException;
    &lt;T&gt; T getBean(Class&lt;T&gt; requiredType) throws BeansException;
    &lt;T&gt; T getBean(Class&lt;T&gt; requiredType, Object... args) throws BeansException;
    &lt;T&gt; ObjectProvider&lt;T&gt; getBeanProvider(Class&lt;T&gt; requiredType);
    &lt;T&gt; ObjectProvider&lt;T&gt; getBeanProvider(ResolvableType requiredType);
    boolean containsBean(String name);
    boolean isSingleton(String name) throws NoSuchBeanDefinitionException;
    boolean isPrototype(String name) throws NoSuchBeanDefinitionException;
    boolean isTypeMatch(String name, ResolvableType typeToMatch) throws NoSuchBeanDefinitionException;
    boolean isTypeMatch(String name, Class&lt;?&gt; typeToMatch) throws NoSuchBeanDefinitionException;
    @Nullable
    Class&lt;?&gt; getType(String name) throws NoSuchBeanDefinitionException;
    @Nullable
    Class&lt;?&gt; getType(String name, boolean allowFactoryBeanInit) throws NoSuchBeanDefinitionException;
    String[] getAliases(String name);
}
</code></pre>
<h4 id="222-singletonbeanregistry">2.2.2 SingletonBeanRegistry</h4>
<p>该接口用于将已经完全实例化的单例的Bean注册到IOC容器中，它的实现类是<strong><code>DefaultSingletonBeanRegistry</code></strong>。</p>
<pre><code class="language-java">public interface SingletonBeanRegistry {

    void registerSingleton(String beanName, Object singletonObject);

    @Nullable
    Object getSingleton(String beanName);

    boolean containsSingleton(String beanName);

    String[] getSingletonNames();

    int getSingletonCount();

    Object getSingletonMutex();
}
</code></pre>
<p>注意与上文<strong><code>BeanDefinitionRegistry</code></strong>做好区分，区别如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align: left;">接口</th>
<th>实现类</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">SingletonBeanRegistry</td>
<td>DefaultSingletonBeanRegistry</td>
<td>将已经完全实例化的单例的Bean注册到IOC容器中</td>
</tr>
<tr>
<td style="text-align: left;">BeanDefinitionRegistry</td>
<td>DefaultListableBeanFactory</td>
<td>将bean定义信息注册到IOC容器中</td>
</tr>
</tbody>
</table>
<blockquote>
<p>思绪记录</p>
<p>​ 文章中记录的IOC容器是一个抽象的概念，它是Spirng中保存所有bean信息的集合，我们将这些集合统称为IOC容器或者Spring容器。 实际上<strong>DefaultSingletonBeanRegistry</strong>和<strong>DefaultListableBeanFactory</strong>都有一个类型为<strong>ConcurrentHashMap</strong>的成员变量，分别为<code>Map&lt;String, BeanDefinition&gt; beanDefinitionMap</code>和<code>Map&lt;String, Object&gt; singletonObjects</code>。<strong>beanDefinitionMap</strong>用于保存bean的定义信息，<strong>singletonObjects</strong>用于保存已经实例化的bean。</p>
</blockquote>
<h4 id="223-listablebeanfactory">2.2.3 ListableBeanFactory</h4>
<p>该接口继承了<strong><code>BeanFactory</code></strong>，在其功能的基础上，新增枚举bean实例的功能。</p>
<blockquote>
<p>NOTE: With the exception of getBeanDefinitionCount and containsBeanDefinition, the methods in this interface are not designed for frequent invocation. Implementations may be slow.</p>
</blockquote>
<p>需要注意的是，该接口中除了<code>getBeanDefinitionCount</code> 和 <code>containsBeanDefinition</code>，其他方法不适合频繁调用。执行会比较慢。</p>
<pre><code class="language-java">public interface ListableBeanFactory extends BeanFactory {
    boolean containsBeanDefinition(String beanName);
    int getBeanDefinitionCount();
    String[] getBeanDefinitionNames();
    &lt;T&gt; ObjectProvider&lt;T&gt; getBeanProvider(Class&lt;T&gt; requiredType, boolean allowEagerInit);
    &lt;T&gt; ObjectProvider&lt;T&gt; getBeanProvider(ResolvableType requiredType, boolean allowEagerInit);
    String[] getBeanNamesForType(ResolvableType type);
    String[] getBeanNamesForType(ResolvableType type, boolean includeNonSingletons, boolean allowEagerInit);
    String[] getBeanNamesForType(@Nullable Class&lt;?&gt; type);
    String[] getBeanNamesForType(@Nullable Class&lt;?&gt; type, boolean includeNonSingletons, boolean allowEagerInit);
    &lt;T&gt; Map&lt;String, T&gt; getBeansOfType(@Nullable Class&lt;T&gt; type) throws BeansException;
    &lt;T&gt; Map&lt;String, T&gt; getBeansOfType(@Nullable Class&lt;T&gt; type, boolean includeNonSingletons, boolean allowEagerInit)
            throws BeansException;
    String[] getBeanNamesForAnnotation(Class&lt;? extends Annotation&gt; annotationType);
    Map&lt;String, Object&gt; getBeansWithAnnotation(Class&lt;? extends Annotation&gt; annotationType) throws BeansException;
    @Nullable
    &lt;A extends Annotation&gt; A findAnnotationOnBean(String beanName, Class&lt;A&gt; annotationType)
            throws NoSuchBeanDefinitionException;
    @Nullable
    &lt;A extends Annotation&gt; A findAnnotationOnBean(
            String beanName, Class&lt;A&gt; annotationType, boolean allowFactoryBeanInit)
            throws NoSuchBeanDefinitionException;
    &lt;A extends Annotation&gt; Set&lt;A&gt; findAllAnnotationsOnBean(
            String beanName, Class&lt;A&gt; annotationType, boolean allowFactoryBeanInit)
            throws NoSuchBeanDefinitionException;
}
</code></pre>
<h4 id="224-hierarchicalbeanfactory">2.2.4 HierarchicalBeanFactory</h4>
<p><strong><code>HierarchicalBeanFactory</code></strong> 在<strong><code>BeanFactory</code></strong>基础上，新增提供父子容器的层次关系查找能力。</p>
<p>至于父容器的设置，需要通过<strong><code>ConfigurableBeanFactory#setParentBeanFactory</code></strong></p>
<blockquote>
<p>至于为啥要将设置和查询拆开，看不太明白。</p>
</blockquote>
<p>其源码如下：</p>
<pre><code class="language-java">public interface HierarchicalBeanFactory extends BeanFactory {
    @Nullable
    BeanFactory getParentBeanFactory();

    boolean containsLocalBean(String name);
}
</code></pre>
<h4 id="225-configurablebeanfactory">2.2.5 ConfigurableBeanFactory</h4>
<p><strong><code>ConfigurableBeanFactory</code></strong>接口定义如下：</p>
<pre><code class="language-java">public interface ConfigurableBeanFactory extends HierarchicalBeanFactory, SingletonBeanRegistry {
    ......
}
</code></pre>
<p>该接口继承了<strong><code>HierarchicalBeanFactory</code></strong>和<strong><code>SingletonBeanRegistry</code></strong>。所以其具备查询bean实例（来自<strong>BeanFactory</strong>）、查询父容器（来自<strong>HierarchicalBeanFactory</strong>）和注册已实例化的bean到容器（来自<strong>SingletonBeanRegistry</strong>）的能力，<strong><code>ConfigurableBeanFactory</code></strong>接口在此之外新提供了很多配置 bean 工厂的工具。</p>
<p><strong><code>ConfigurableBeanFactory</code></strong>接口不适合在正常应用程序代码中使用——应使用 <strong><code>BeanFactory</code></strong> 或 <strong><code>org.springframework.beans.factory.ListableBeanFactory</code></strong> 。 这个扩展接口只是为了允许框架内部即插即用以及对 bean 工厂配置方法的特殊访问。</p>
<p><strong><code>ConfigurableBeanFactory</code></strong>接口源码较多不便在文章中展示，其接口文档地址如下：<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/ConfigurableBeanFactory.html">ConfigurableBeanFactory</a></p>
<h4 id="226-autowirecapablebeanfactory">2.2.6 AutowireCapableBeanFactory</h4>
<p>该接口在<strong><code>BeanFactory</code></strong>的基础上新提供了自动装配功能，可以将IOC容器中已经实例化的bean，注入到不在IOC容器中的普通对象。该接口是实现类为<strong><code>AbstractAutowireCapableBeanFactory</code></strong>，主要用于与第三方框架整合。</p>
<pre><code class="language-java">public interface AutowireCapableBeanFactory extends BeanFactory {

    int AUTOWIRE_NO = 0;
    int AUTOWIRE_BY_NAME = 1;
    int AUTOWIRE_BY_TYPE = 2;
    int AUTOWIRE_CONSTRUCTOR = 3;
    @Deprecated
    int AUTOWIRE_AUTODETECT = 4;

    String ORIGINAL_INSTANCE_SUFFIX = &quot;.ORIGINAL&quot;;
    //实例化bean,过程中会自动注入需要的属性。
    &lt;T&gt; T createBean(Class&lt;T&gt; beanClass) throws BeansException;
    //自动注入bean中属性，如果IOC容器中存在
    void autowireBean(Object existingBean) throws BeansException;

    Object configureBean(Object existingBean, String beanName) throws BeansException;

    Object autowire(Class&lt;?&gt; beanClass, int autowireMode, boolean dependencyCheck) throws BeansException;

    void autowireBeanProperties(Object existingBean, int autowireMode, boolean dependencyCheck)
            throws BeansException;

    void applyBeanPropertyValues(Object existingBean, String beanName) throws BeansException;

    Object initializeBean(Object existingBean, String beanName) throws BeansException;

    void destroyBean(Object existingBean);

    &lt;T&gt; NamedBeanHolder&lt;T&gt; resolveNamedBean(Class&lt;T&gt; requiredType) throws BeansException;

    Object resolveBeanByName(String name, DependencyDescriptor descriptor) throws BeansException;

    @Nullable
    Object resolveDependency(DependencyDescriptor descriptor, @Nullable String requestingBeanName) throws BeansException;

    @Nullable
    Object resolveDependency(DependencyDescriptor descriptor, @Nullable String requestingBeanName,
            @Nullable Set&lt;String&gt; autowiredBeanNames, @Nullable TypeConverter typeConverter) throws BeansException;

}
</code></pre>
<h3 id="23-abstractautowirecapablebeanfactory">2.3 AbstractAutowireCapableBeanFactory</h3>
<p>通过上文可知<strong><code>DefaultListableBeanFactory</code></strong>继承了<strong><code>AbstractAutowireCapableBeanFactory</code></strong>类，该类实现了接口<strong><code>AutowireCapableBeanFactory</code></strong>，提供自动装配能力。同时集成了<strong><code>AbstractBeanFactory</code></strong>类。</p>
<h4 id="231-simplealiasregistry">2.3.1 SimpleAliasRegistry</h4>
<p>该类上文已经提到过，实现了接口<strong><code>AliasRegistry</code></strong>，用于管理bean的别名。</p>
<p><strong><code>SimpleAliasRegistry</code></strong>类部分源码如下，通过<strong>ConcurrentHashMap</strong>来保存别名和bean名称的映射关系。</p>
<pre><code class="language-java">public class SimpleAliasRegistry implements AliasRegistry {

    private final Map&lt;String, String&gt; aliasMap = new ConcurrentHashMap&lt;&gt;(16);

    @Override
    public void registerAlias(String name, String alias) {
        ...
    }

    @Override
    public String[] getAliases(String name) {
        List&lt;String&gt; result = new ArrayList&lt;&gt;();
        synchronized (this.aliasMap) {
            retrieveAliases(name, result);
        }
        return StringUtils.toStringArray(result);
    }
    ...
}
</code></pre>
<h4 id="232-defaultsingletonbeanregistry">2.3.2 DefaultSingletonBeanRegistry</h4>
<p>上文2.2.2节有说明该类，是接口<strong><code>SingletonBeanRegistry</code></strong>真正的实现类。</p>
<p><a href="https://cloud.tencent.com/developer/article/1497692">类说明，该类注册bean是使用三级缓存，用于解决循环依赖问题</a></p>
<h4 id="233-factorybeanregistrysupport">2.3.3 FactoryBeanRegistrySupport</h4>
<p><strong><code>FactoryBeanRegistrySupport</code></strong>主要是在<strong><code>DefaultSingletonBeanRegistry</code></strong>基础上增加了对<strong><code>FactoryBean</code></strong>的特殊处理功能。</p>
<p>因此<strong><code>FactoryBeanRegistrySupport</code></strong>我们称其问单例bean的注册中心，负责管理所有的单例bean。</p>
<h4 id="234-abstractbeanfactory">2.3.4 AbstractBeanFactory</h4>
<p>作为顶层抽象实现，<strong><code>AbstractBeanFactory</code></strong> 实现了 <strong><code>BeanFactory</code></strong> 、<strong><code>HierarchicalBeanFactory</code></strong>、 <strong><code>ConfigurableBeanFactory</code></strong> 定义的大多数方法，同时将核心方法抽象出来交由子类拓展与实现。</p>
<p><strong><code>AbstractBeanFactory</code></strong> 定义了三个核心的 抽象方法，交由子类实现，具体的实现类即为<strong><code>AbstractAutowireCapableBeanFactory</code></strong>.</p>
<pre><code class="language-java">public abstract class AbstractBeanFactory extends FactoryBeanRegistrySupport implements ConfigurableBeanFactory {

    protected abstract boolean containsBeanDefinition(String beanName);

    protected abstract BeanDefinition getBeanDefinition(String beanName) throws BeansException;

    protected abstract Object createBean(String beanName, RootBeanDefinition mbd, @Nullable Object[] args) throws BeanCreationException;

    //省略其他属性及方法......
}
</code></pre>
<h3 id="24">2.4 使用示例</h3>
<p>本示例最好将代码在本地debug，对比文章进行阅读。</p>
<p>首先提前准备三个Bean，如下</p>
<pre><code class="language-java">@Configuration
class Config {
    @Bean
    public Bean1 bean1() {
        return new Bean1();
    }
}

class Bean1 {
    String name;
    @Autowired
    Bean2 bean2;
}

class Bean2 {
    String name;
}
</code></pre>
<h4 id="241-ioc">2.4.1 新建IOC容器</h4>
<p>后续代码都基于下面该类。</p>
<pre><code class="language-java">import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.config.ConfigurableBeanFactory;
import org.springframework.beans.factory.support.*;
import org.springframework.context.annotation.*;

public class DefaultListableBeanFactoryDemo {

    public static void main(String[] args) {
        defaultListableBeanFactory();
    }

    private static void defaultListableBeanFactory() {
        //1.创建一个IOC容器，此时容器中什么都没有
        DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();

        //2.将注解配置的bean生成beanDefinition
        AbstractBeanDefinition configBeanDefinition =
                BeanDefinitionBuilder.genericBeanDefinition(Config.class)
                .setScope(ConfigurableBeanFactory.SCOPE_SINGLETON)
                .getBeanDefinition();

        //3.将beanDefinition注册到IOC容器
        beanFactory.registerBeanDefinition(&quot;config&quot;, configBeanDefinition);

        //输出结果为：config
        println(beanFactory, 1);

    }

    /**
     * 输出beanFactory中所有bean的名称
     *
     * @param beanFactory bean工厂
     */
    private static void println(DefaultListableBeanFactory beanFactory, int number) {
        System.out.println(&quot;=============&quot; + number + &quot;=============&quot;);
        for (String beanDefinitionName : beanFactory.getBeanDefinitionNames()) {
            System.out.println(beanDefinitionName);
        }
    }

}
</code></pre>
<p>通过本例可以发现<strong><code>Config</code></strong>的Bean定义信息已经注册到了IOC容器中，但是<strong><code>Config</code></strong>中的定义的Bean1没有注册到IOC容器中。</p>
<p>因此，提出两个问题：</p>
<ul>
<li>问题一：<strong><code>@Configuration</code>、<code>@bean</code></strong>注解为什么没有生效？</li>
<li>问题二：什么时候解析<strong><code>@Configuration</code>、<code>@bean</code></strong>生成<strong><code>BeanDefinition</code></strong>？</li>
</ul>
<h4 id="242">2.4.2 新增后置工厂处理器</h4>
<p>在上例基础上新增步骤4、5</p>
<pre><code class="language-java">//4.添加ConfigurationClassPostProcessor的beanDefinition到IOC容器
AbstractBeanDefinition ConfigurationClassPostProcessorBeanDefinition = 
        BeanDefinitionBuilder.genericBeanDefinition(ConfigurationClassPostProcessor.class)
        .setScope(ConfigurableBeanFactory.SCOPE_SINGLETON)
        .getBeanDefinition();

beanFactory.registerBeanDefinition(
    &quot;configurationClassPostProcessor&quot;, ConfigurationClassPostProcessorBeanDefinition);

//5.执行后置工厂处理器，解析@Configuration配置类
beanFactory.getBean(ConfigurationClassPostProcessor.class).postProcessBeanDefinitionRegistry(beanFactory);
println(beanFactory, 2);
</code></pre>
<p>再次执行，可以发现IOC容器中除了我们手动新增的两个<strong><code>beanDefinition</code></strong>，还多了Bea1。</p>
<pre><code>=============1=============
config
=============2=============
config
configurationClassPostProcessor
getBean1
</code></pre>
<ul>
<li>问题解答:</li>
</ul>
<pre><code>1:Spring中通过后置工厂处理器ConfigurationClassPostProcessor来负责解析@Configuration配置类。

2:执行ConfigurationClassPostProcessor#postProcessBeanDefinitionRegistry方法可以解析IOC
容器中的所有的@Configuration配置类，并解析配置类中所有@Bean生成BeanDefinition注册到IOC容器中。

3:ConfigurationClassPostProcessor解析如下注解：
    @Configuration 
    @Bean @Import 
    @ImportResource 
    @ComponentScan、
    @ComponentScans
 因此配置类中如下注解标注的BeanDefinition都会被注册到IOC容器中。
</code></pre>
<ul>
<li>ConfigurationClassPostProcessor部分关键源码如下</li>
</ul>
<pre><code class="language-java">public void processConfigBeanDefinitions(BeanDefinitionRegistry registry) {
    List&lt;BeanDefinitionHolder&gt; configCandidates = new ArrayList&lt;&gt;();
    String[] candidateNames = registry.getBeanDefinitionNames();
    //筛选所有@Configuration配置类
    for (String beanName : candidateNames) {
        BeanDefinition beanDef = registry.getBeanDefinition(beanName);
        if (ConfigurationClassUtils.checkConfigurationClassCandidate(beanDef, this.metadataReaderFactory)) {
            configCandidates.add(new BeanDefinitionHolder(beanDef, beanName));
        }
    }

    // Parse each @Configuration class
    ConfigurationClassParser parser = new ConfigurationClassParser(
            this.metadataReaderFactory, this.problemReporter, this.environment,
            this.resourceLoader, this.componentScanBeanNameGenerator, registry);

    Set&lt;BeanDefinitionHolder&gt; candidates = new LinkedHashSet&lt;&gt;(configCandidates);
    Set&lt;ConfigurationClass&gt; alreadyParsed = new HashSet&lt;&gt;(configCandidates.size());
    do {
        StartupStep processConfig = this.applicationStartup.start(&quot;spring.context.config-classes.parse&quot;);
        //解析@Configuration配置类
        parser.parse(candidates);
        parser.validate();

        Set&lt;ConfigurationClass&gt; configClasses = new LinkedHashSet&lt;&gt;(parser.getConfigurationClasses());
        configClasses.removeAll(alreadyParsed);

        // Read the model and create bean definitions based on its content
        if (this.reader == null) {
            this.reader = new ConfigurationClassBeanDefinitionReader(
                    registry, this.sourceExtractor, this.resourceLoader, this.environment,
                    this.importBeanNameGenerator, parser.getImportRegistry());
        }
        //将所有解析的BeanDefinition注册到IOC容器中
        this.reader.loadBeanDefinitions(configClasses);

    }
    while (!candidates.isEmpty());

}
</code></pre>
<h4 id="243-bean">2.4.3 新增Bean后置处理器</h4>
<p>本例Bean1中通过<code>@Autowired</code>注解自动注入bean2，Autowired注解默认required的属性值为true，因此当解析该注解时，就会报没有Bean2的错误。</p>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        这篇文章是否对您有帮助?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="有那么一点帮助~" data-md-value="5">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="没啥帮助~" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5 3 7M16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="5" hidden>
              
              
                
              
              感谢您的反馈！
            </div>
          
            <div data-md-value="1" hidden>
              
              
                
              
              OKOK，好好好！
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../../database/mysql/MySQL%E4%BA%8B%E5%8A%A1/" class="md-footer__link md-footer__link--prev" aria-label="上一页: MySQL事务">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                MySQL事务
              </div>
            </div>
          </a>
        
        
          
          <a href="../../git/Git%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%9A%82%E5%AD%98/" class="md-footer__link md-footer__link--next" aria-label="下一页: Git交互式暂存">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Git交互式暂存
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">同意</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">管理设定</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.follow", "navigation.tabs", "navigation.path", "navigation.top", "navigation.indexes", "navigation.footer", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>