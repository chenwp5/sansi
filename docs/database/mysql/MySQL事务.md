# 事务

> 可重复读隔离级别下： 原子性：靠undo log，回滚，保证原子操作 隔离性：mvcc快照读，或者当前读，保证读到的是复合预期的，防止脏读和幻读 一致性：原子性+隔离性共同保证 持久性：redo log 和 bin log

## 一、概念

**事务**是满足ACID四大特性的一组数据库操作。具体来说就是这一组数据库操作，他们具有原子性，要么全部执行成功，要么全部执行失败。执行期间各事务互不影响，执行前后数据满足一致性和持久性。即执行前后数据应该是从一个正确的状态转移到另一个正确的状态，并且执行过程中所有的修改都会被永久的保存到数据库中。

### 1.1 原子性（Atomicity）

一个事务是一个不可分割的单元，要么全部执行成功，要么全部执行失败。

### 1.2 一致性（Consistency）

数据库总是从一个正确的状态转移到另一个正确的状态。

### 1.3 隔离性（Isolation）

通常来说，事务之间应该不影响。但为了综合考虑数据库的性能，数据库执行不同得隔离级别。不同的隔离级别会使事务之间产生不同的影响。

### 1.4 持久性（Durability）

一旦事务提交，事务所做的修改就会被永久的保存到数据库中。

## 二、事务隔离级别